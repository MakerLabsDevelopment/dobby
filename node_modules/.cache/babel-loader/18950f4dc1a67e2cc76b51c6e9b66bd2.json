{"ast":null,"code":"var _jsxFileName = \"/Users/nassarhayat/apps/textiletable/sushitable/src/components/Home.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'redux-bundler-react';\nimport { ThreadID } from '@textile/hub';\nimport { Button } from 'semantic-ui-react';\nimport BaseScreen from './BaseScreen';\nimport Table from './Table';\nimport 'semantic-ui-css/semantic.min.css';\nimport './Home.css';\n\nconst Home = ({\n  authClient: client,\n  doAuthSignIn,\n  threadsData\n}) => {\n  const [threadId, setThreadId] = useState();\n  const [name, setName] = useState('');\n  const [collections, setCollections] = useState();\n  useEffect(() => {\n    if (client) {\n      const setup = async () => {\n        // console.log('LLL', await client.listThreads())\n        const collections = await client.listCollections(ThreadID.fromString('bafkypcdo2yzg7ydabdfp5op364htx6oratoobmivkkql6z3ii4lqkry'));\n        setCollections(collections);\n        setName(collections[0].name); // const threadId = await client.newDB()\n\n        const threadId = ThreadID.fromString('bafkypcdo2yzg7ydabdfp5op364htx6oratoobmivkkql6z3ii4lqkry');\n        setThreadId(threadId);\n      };\n\n      setup();\n    } else {\n      doAuthSignIn();\n    }\n  }, [client]);\n\n  const selectExisting = name => {\n    setName(name);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BaseScreen, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"optionsRow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, threadsData && threadsData.map((thread, index) => /*#__PURE__*/React.createElement(\"a\", {\n    key: index,\n    href: `/threads/${thread.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, thread.name || 'no name'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"optionsRow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, collections && collections.map((collection, index) => /*#__PURE__*/React.createElement(Button, {\n    key: index,\n    className: \"tableButton\",\n    onClick: () => selectExisting(collection.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, collection.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"nameInput\",\n    placeholder: \"table name\",\n    type: \"text\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"ui primary button\",\n    onClick: () => console.log('a'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Create\"))), threadId && client && /*#__PURE__*/React.createElement(Table, {\n    threadId: threadId,\n    client: client,\n    name: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default connect('doAuthSignIn', 'selectAuthClient', 'selectThreadsData', Home);","map":{"version":3,"sources":["/Users/nassarhayat/apps/textiletable/sushitable/src/components/Home.tsx"],"names":["React","useState","useEffect","connect","ThreadID","Button","BaseScreen","Table","Home","authClient","client","doAuthSignIn","threadsData","threadId","setThreadId","name","setName","collections","setCollections","setup","listCollections","fromString","selectExisting","map","thread","index","id","collection","e","target","value","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { connect } from 'redux-bundler-react'\nimport { Client, ThreadID } from '@textile/hub'\nimport { Button } from 'semantic-ui-react'\nimport BaseScreen from './BaseScreen'\nimport Table from './Table'\nimport 'semantic-ui-css/semantic.min.css'\nimport './Home.css'\n\ninterface IHome {\n  authClient: Client\n  doAuthSignIn: () => any\n  threadsData: any\n}\n\nconst Home = ({\n  authClient: client,\n  doAuthSignIn,\n  threadsData\n}: IHome): React.ReactElement<IHome> => {\n  const [threadId, setThreadId] = useState<ThreadID>()\n  const [name, setName] = useState<string>('')\n  const [collections, setCollections] = useState<Array<any>>()\n\n  useEffect(() => {\n    if (client) {\n      const setup = async () => {\n        // console.log('LLL', await client.listThreads())\n        const collections = await client.listCollections(ThreadID.fromString('bafkypcdo2yzg7ydabdfp5op364htx6oratoobmivkkql6z3ii4lqkry'))\n        setCollections(collections)\n        setName(collections[0].name)\n        // const threadId = await client.newDB()\n        const threadId = ThreadID.fromString('bafkypcdo2yzg7ydabdfp5op364htx6oratoobmivkkql6z3ii4lqkry')\n        setThreadId(threadId)\n      }\n      setup()\n    } else {\n      doAuthSignIn()\n    }\n  }, [client])\n\n\n  const selectExisting = (name: string) => {\n    setName(name)\n  }\n\n  return (\n    <div className='Home'>\n      <BaseScreen>\n        <div className='optionsRow'>\n          {threadsData && threadsData.map((thread: any, index: number) => (\n            <a key={index} href={`/threads/${thread.id}`}>{thread.name || 'no name'}</a>\n          ))}\n        </div>\n        <div className='optionsRow'>\n          {collections && collections.map((collection, index) => (\n            <Button\n              key={index}\n              className='tableButton'\n              onClick={() => selectExisting(collection.name)}\n            >\n              {collection.name}\n            </Button>\n          ))}\n          <div className=\"inputContainer\">\n            <input className='nameInput' placeholder='table name' type='text' value={name} onChange={e => setName(e.target.value)}/>\n            <Button className='ui primary button' onClick={() => console.log('a')}>Create</Button>\n          </div>\n        </div>\n        {threadId && client && (\n          <Table threadId={threadId} client={client} name={name}/>\n        )}\n      </BaseScreen>\n    </div>\n  )\n}\n\nexport default connect(\n  'doAuthSignIn',\n  'selectAuthClient',\n  'selectThreadsData',\n  Home\n)\n"]},"metadata":{},"sourceType":"module"}